در این پروژه قراره با طراحی و پیاده‌سازی یک پایگاه داده برای یه فروشگاه آنلاین، مفاهیم پایه و کاربردی SQL رو تمرین کنیم. ایده‌ی پروژه اینه که اتفاق‌هایی رو که توی یه فروشگاه واقعی می‌افته شبیه‌سازی کنیم؛ از ثبت اطلاعات کاربران و محصولات گرفته تا ثبت سفارش‌ها و جزئیات هر سفارش.

هدف اصلی این تمرین اینه که هم با طراحی دیتابیس‌های رابطه‌ای آشنا بشید و هم بتونید کوئری‌های درست و کاربردی بنویسید. در نهایت، انتظار می‌ره بتونید یه پایگاه داده‌ی ساده اما کامل برای چنین سیستمی بسازید و اطلاعات مورد نیاز رو با استفاده از SQL ازش استخراج کنید.

پیشنهاد می‌دیم اول از ابتدا با انتهای تمرین رو بخونید تا به طور کامل با سوالات آشنا بشین، و در ادامه به پیاده‌سازی اون برسین.

# نیازمندی‌های اطلاعاتی برای سیستم فروشگاه آنلاین

برای راه‌اندازی یک سیستم فروشگاه آنلاین، لازمه اطلاعات مختلفی از کاربران، محصولات، سفارش‌ها و جزئیات خریدها به‌صورت ساختاریافته در سیستم ثبت و مدیریت بشه. در ادامه، نیازمندی‌های اصلی داده‌ای این سیستم رو بهتون توضیح می‌دیم. شما لازمه یه دیتابیس برای این نیازمندی‌ها طراحی کنید که تا سطح سوم نرمال‌سازی (3NF) نرمال شده باشه.

## مدیریت کاربران

سیستم باید بتونه اطلاعات مربوط به هر کاربر یا مشتری را نگه‌داری کنه. برای هر کاربر، لازمه موارد زیر رو در نظر بگیرید:

- نام و اطلاعات شناسایی فرد
- آدرس ایمیل برای ارتباط و اطلاع‌رسانی
- زمان ثبت‌نام برای پیگیری فعالیت‌ها در سیستم

## مدیریت محصولات فروشگاه

تمامی محصولات موجود در فروشگاه باید قابل ثبت و مدیریت باشن. اطلاعات مورد نیاز برای هر محصول شامل موارد زیره:

- نام محصول
- دسته‌بندی محصولات به گروه‌های مختلف (مثلا پوشاک، دیجیتال و غیره)
- قیمت فروش هر محصول (این قیمت ممکنه در بازه‌های زمانی مختلف، متفاوت باشه)
- موجودی هر محصول

## مدیریت سفارشات

هر زمان که یک کاربر سفارشی ثبت می‌کنه، باید جزئیات کلی اون سفارش ذخیره بشه. برای هر سفارش، اطلاعات زیر مورد نیاز هست:

- کاربر ثبت‌کنندهٔ سفارش
- تاریخ و ساعت ثبت سفارش
- اقلام سفارش
- تعداد محصولات خریداری‌شده از هر قلم سفارش
- قیمت هر قلم سفارش در زمان خرید

# ذخیرهٔ اطلاعات

تعدادی رکورد داخل دیتابیس‌تون insert کنید که بتونید کوئری‌هایی که برای پاسخ سوالات پیش رو می‌زنید رو تست کنید. اطلاعاتی که ذخیره می‌کنید باید به خوبی نشون بدن که پاسخ‌تون به سوالات درستن. مثلا اگر یه سوال می‌خواد همهٔ مشتری‌هایی که ایمیل‌شون با حرف a شروع می‌شه رو نشون بدین، باید هم مشتری‌ای داشته باشین که ایمیلش با a شروع می‌شه، و هم مشتری‌ای داشته باشین که ایمیلش با این حرف شروع نمی‌شه. این‌طوری می‌تونید اثبات کنید که کوئری‌تون درست کار می‌کنه.

# سوالات

پاسخ هر کدوم از این سوالات رو، باید توی **فقط یک کوئری** به دست بیارید. این کوئری می‌تونه شامل هر دستور SQLای مثل `where`،‏ `group by`، ‏‍‍`join` یا هر چیز دیگه‌ای باشه، ولی جواب نهایی شما برای هر سوال باید فقط شامل یک کوئری باشه.

## سوال اول: مشتریان VIP

مشتری هایی رو پیدا کنید که در مجموع سفارش‌های ثبت‌شده‌شون در سال ۲۰۲۴، حداقل ۱۵٬۰۰۰ دلار هزینه کردند. فقط سفارش‌هایی رو در نظر بگیرید که در سال ۲۰۲۴ ثبت شدند.

## سوال دوم: کاربران وفادار

کاربرانی را پیدا کنید که در تمامی‌ ماه‌های سال ۲۰۲۴ حداقل یک سفارش ثبت کرده‌اند.

## سوال سوم: محصولات رشد کننده

محصولاتی را پیدا کنید که فروششون (بر حسب تعداد واحد فروخته‌شده) در سه‌ماهه چهارم ۲۰۲۴ حداقل دو برابر فروش اون ها در سه‌ماهه سوم ۲۰۲۴ بوده.

## سوال چهارم: مشتری غیرعادی

کاربرانی را پیدا کنید که حداقل یک سفارش ثبت کرده‌اند که مبلغ اون از دو برابر میانگین تمام سفارش‌هاشون بیشتر هست.

## سوال پنجم: محصولات پرفروشِ تموم شده

محصولاتی را نمایش بدید که در کل بیش از ۱۰۰ واحد از اون‌ها فروخته شده ولی موجودی فعلیشون صفر هست.

# چیزی که باید آپلود کنید

یک فایل zip آپلود کنید که توی اون، فایل‌های SQL زیر موجوده:

```
ans.zip
|-- create_db.sql
|-- insert_data.sql
|-- answers
    |-- 1.sql
    |-- 2.sql
    |-- 3.sql
    |-- 4.sql
    |-- 5.sql
```

فایل `create_db.sql` باید شامل کوئری‌های `create table`‌تون باشه. فایل ‍‍`insert_data.sql` باید شامل تمام رکورد‌هایی باشه که توی دیتابیس‌تون insert کردین. دایرکتوری `answers` هم باید شامل ۵ فایل sql. باشه که کوئری‌تون برای هر سوال رو نشون می‌ده.