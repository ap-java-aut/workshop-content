ما قراره یه سرویس ایمیل کوچولو و جمع و جور درست کنیم. کاربرها می‌تونن توی اون برای هم دیگه ایمیل بفرستن، به ایمیل‌های همدیگه جواب بدن و اون‌ها رو برای همدیگه فوروارد کنن. اسم این سرویس ایمیل، که از سگ بامزهٔ تن‌تن گرفته شده، Milouئه!

![میلو، سگ تن‌تن](https://i.postimg.cc/zXXDJ4JR/temp-Imageq-GNTb4.avif)

راستی، طراحی این پروژه با شماست. سعی کنید که دیزاین خیلی خوبی برای اون انجام بدین.

# ورود و ثبت نام

با اجرای برنامه، از کاربر بخواین که یکی از دو دستور زیر رو بهتون ورودی بده:

```
[L]ogin, [S]ign up: 
```

اگر کاربر `L` یا `Login` رو وارد کرد، به بخش «ورود» برین و اگر `S` یا `Sign up` رو وارد کرد، به بخش «ثبت نام» منتقلش کنید.

## ورود

برای ورود کاربر، ازش ایمیل و پسوردش رو بخواین:

```
Email: 
Password: 
```

کاربر ممکنه ایمیلش رو به دو حالت زیر وارد کنه:

```
gholi@milou.com
gholi
```

به عبارتی، کاربر لازم نیست حتما بخش `milou.com@` رو بنویسه تا وارد حساب کاربری‌ش بشه. بعد از این که کاربر وارد شد، بخش خوش‌آمد بگین:

```
Welcome back, Gholi!
```

زیر پیام خوش‌آمدگویی، به کاربر ایمیل‌هایی که هنوز اون‌ها رو باز نکرده رو نشون بدین. برای هر ایمیل، کد ایمیل، فرستنده و موضوع ایمیل رو نشون بدین کافیه (در ادامه بهتون می‌گیم منظورمون از «کد ایمیل» چیه):

```
Unread Emails:

3 unread emails:
+ mamad@milou.com - Our new meeting (1bc170)
+ raees@milou.com - Book suggestions (fnjd1o)
+ nika@milou.com - New feature (12dsb1)
```

## ثبت‌ نام

برای ثبت‌نام کاربر، ازش اطلاعات زیر رو بخواین:

```
Name:
Email:
Password:
```

کاربر این‌جا هم می‌تونه ایمیلش رو بدون `milou.com@` وارد کنه. لازمه توی سناریو‌های زیر به کاربر خطا بدین و ازش بخواین دوباره فرم ثبت نام رو پر کنه:

- ایمیلی که کاربر انتخاب کرده تکراریه و قبلا توسط یه کاربر دیگه انتخاب شده.
- پسوردی که کاربر انتخاب کرده کمتر از ۸ کاراکتره.

بعد از این که کاربر با موفقیت ثبت نام کرد، پیام زیر رو بهش نشون بدین:

```
Your new account is created. 
Go ahead and login!
```

بعد از این پیام، مجددا از کاربر بخواین که یکی از دو دستور `Login` یا `Sign up` رو انتخاب کنه:

```
[L]ogin, [S]ign up
```

# دستورات کاربر

وقتی کاربر وارد اکانتش شد، در انتهای پیام خوش‌آمدگویی بهش دستورات زیر رو نشون بدید:

```
[S]end, [V]iew, [R]eply, [F]orward: 
```

این دستورات، به ترتیب برای ارسال ایمیل جدید، مشاهدهٔ ایمیل‌ها، پاسخ بهشون و فوروارد کردن اون‌ها برای دیگریه.

## ارسال ایمیل

حین ارسال ایمیل، از کاربر سه ورودی بگیرین:

```
Recipient(s): 
Subject: 
Body:
```

هر ایمیل ممکنه یک یا چند دریافت‌کننده داشته باشه. بعد از ارسال ایمیل، یه کد ۶ حرفی به اون اختصاص بدین و این کد رو به کاربر نشون بدین تا بتونه ایمیلش رو ببینه:

```
Successfully sent your email.
Code: 1ab97h
```

## خواندن ایمیل‌ها

اگر کاربر خواست ایمیل‌هاش رو ببینه، به اون سه گزینه نشون بدین:

```
[A]ll emails, [U]nread emails, [S]ent emails, Read by [C]ode: 
```

شما باید بر اساس ورودی کاربر، بهش بخش متفاوتی از ایمیل‌هاش رو نشون بدین. دقت کنید که اگر بناست فهرستی از ایمیل‌ها به کاربر نشون بدین، لازمه که اون فهرست رو بر اساس زمان دریافت ایمیل، از جدیدترین به قدیمی‌ترین سورت کرده باشین.

### تمام ایمیل‌ها

اگر کاربر ازتون خواست تمام ایمیل‌هاش رو نشونش بدین، بهش فهرستی از همهٔ ایمیل‌هایی که دریافت کرده بر حسب زمان دریافت‌شون نشون بدین:

```
All Emails:
+ mamad@milou.com - Our new meeting (1bc170)
+ raees@milou.com - Book suggestions (fnjd1o)
+ nika@milou.com - New feature (12dsb1)
```

### ایمیل‌های خوانده نشده

تمام ایمیل‌های خوانده نشدهٔ کاربر رو، این‌جا نشونش بدین:

```
Unread Emails:
+ mamad@milou.com - Our new meeting (1bc170)
+ raees@milou.com - Book suggestions (fnjd1o)
+ nika@milou.com - New feature (12dsb1)
```

### ایمیل‌های ارسالی

ایمیل‌های ارسالی کاربر رو، به همراه دریافت‌کننده‌هاشون این‌جا نشون بدین. اگر ایمیلی چند دریافت‌کننده داشت، اون‌ها رو با کاما از هم جدا کنین:

```
Sent Emails:
+ mamad@milou.com - Our new meeting (1bc170)
+ raees@milou.com - Book suggestions (fnjd1o)
+ nika@milou.com, raees@milou.com - New feature (12dsb1)
```

### خواندن ایمیل بر اساس کد

اگر کاربر خواست ایمیلی رو بر اساس کدش بخونه، ابتدا کد شش حرفی اون رو ازش ورودی بگیرین:

```
Code: 
```

بعد از ورودی گرفتن کد، ایمیل مورد نظر کاربر رو به طور کامل بهش نشون بدین:

```
Code: 12dsb1
Recipient(s): nika@milou.com, raees@milou.com
Subject: New feature
Date: 2025-12-03

We’re excited to introduce a new feature — Post Scheduling! You can now plan your content ahead of time and set it to publish automatically whenever you choose.

Try it out today and let us know what you think!
```

دقت کنید که کاربر نباید بتونه ایمیل‌های دیگران رو بخونه. اگر کاربری خواست ایمیلی رو بخونه که جزو دریافت‌کننده‌ها یا فرستندهٔ اون نیست، بهش خطای زیر رو نشون بدین:

```
You cannot read this email.
```

بعد از این که کاربری یک ایمیل رو کامل خوند، دیگه نباید اون رو توی Unread Emailهاش نشونش بدین.

## پاسخ به ایمیل‌ها:

اگر کاربری خواست به ایمیلی جواب بده، ازش بخواین که ابتدا کد شش حرفی اون ایمیل رو وارد کنه، و متن پاسخش هم بنویسه:

```
Code: 
Body: 
```

به عنوان مثال، اگر قلی ایمیل زیر رو از طرف `raees@milou.com` دریافت کرده:

```
Code: 12dsb1
Recipient(s): nika@milou.com, gholi@milou.com
Subject: New feature
Date: 2025-12-03

We’re excited to introduce a new feature — Post Scheduling! You can now plan your content ahead of time and set it to publish automatically whenever you choose.

Try it out today and let us know what you think!
```

و می‌خواد بهش جواب بده، شما باید کد این ایمیل و متن پاسخش رو ازش بگیرین:

```
Code: 12dsb1
Body: Thanks for the update! Excited to try the new scheduling feature.
```

و یه همچین ایمیلی تولید کنید:

```
Code: 1392ab
Recipient(s): nika@milou.com, raees@milou.com
Subject: [Re] New feature
Date: 2025-12-06

Thanks for the update! Excited to try the new scheduling feature.
```

دقت کنید که این ایمیل، علاوه بر رئیس به تمام دریافت‌کننده‌های دیگهٔ ایمیل اصلی هم ارسال شده. علاوه بر این، سابجکت اون به شکل اتومات `New feature [Re]` گذاشته شده.

نهایتا، به قلی یه پیام نشون بدین که یعنی پاسخ این ایمیل با موفقیت ارسال شده. توی این پیام، کد ایمیل جدید قلی هم نشونش بدین:

```
Successfully sent your reply to email 12dsb1.
Code: 1392ab
```


## فوروارد ایمیل‌ها

برای فوروارد ایمیل‌ها، از کاربر کد ایمیلش و دریافت‌کننده‌های اون رو ورودی بگیرین:

```
Code: 
Recipient(s):  
```

و بعدش ایمیل دلخواه کاربر رو به تمام دریافت‌کننده‌ها ارسال کنید. مثلا فرض کنید قلی بخواد ایمیل قبلی رئیس رو برای ممد بفرسته. این ایمیل به شکل زیر بوده:

```
Code: 12dsb1
Recipient(s): nika@milou.com, gholi@milou.com
Subject: New feature
Date: 2025-12-03

We’re excited to introduce a new feature — Post Scheduling! You can now plan your content ahead of time and set it to publish automatically whenever you choose.

Try it out today and let us know what you think!
```

قلی به شما همچین ورودی‌هایی می‌ده:

```
Code: 12dsb1
Recipient(s): mamad@milou.com
```

و شما باید همچین ایمیلی برای ممد بفرستین:

```
Code: 82cn12
Recipient(s): mamad@milou.com
Subject: [Fw] New feature
Date: 2025-12-06

We’re excited to introduce a new feature — Post Scheduling! You can now plan your content ahead of time and set it to publish automatically whenever you choose.

Try it out today and let us know what you think!
```

دقت کنید که سابجکت این ایمیل، به صورت اتومات از روی ایمیل اصلی درست می‌شه و ‍‍`[Fw] New feature` هستش.

نهایتا، بعد از ارسال موفق ایمیل به قلی کد ایمیل جدیدش رو نشون بدین:

```
Successfully forwarded your email.
Code: 82cn12
```


# طراحی برنامه

دقت کنید که ما هیچ چیزی راجع به طراحی این نرم‌افزار بهتون نگفتیم. دیزاین اون، کاملا بر عهدهٔ شماست. سعی کنید برنامهٔ تمیزی طراحی کنید و توی اون، اصولی که در طول ترم راجع به دیزاین نرم‌افزار یاد گرفتین رو رعایت کنید. 

علاوه بر این، کاربر ممکنه هر ورودی چرتی بهتون بده. ممکنه بخواد به ایمیلی پاسخ بده که برای اون نیست، یا حتی وجود نداره. ممکنه بخواد ایمیل یکی دیگه رو بخونه. ممکنه subject ایمیلش انقدر بلند باشه که توی دیتابیس‌تون جا نشه. برای همهٔ این ورودی‌ها آماده باشید و متن خطای مناسب به کاربر نشون بدین.

علاوه بر این، خوب نیست که کاربر توی terminal، لاگ‌های برنامهٔ شما رو ببینه. شما می‌تونید این لاگ‌ها رو، به جای terminal توی یه فایل جدا بنویسین، یا کلا خاموششون کنید. گزینهٔ اول بهتره. تحقیق کنید که چطور می‌تونید هر کدوم از این کارها رو انجام بدین.

# فعالیت امتیازی

هر فیچر جدیدی که به این پروژه اضافه کنید، فعالیت امتیازی محسوب می‌شه. فکر می‌کنید باید برنامه‌تون رابط کاربری گرافیکی داشته باشه؟ اضافه‌ش کنید! به نظرتون فیچرهاش کمه؟ اضافه‌ش کنید! هر چیزی که فکر می‌کنید باید داشته باشه و نداره رو می‌تونید بهش اضافه کنید و بابتش نمرهٔ امتیازی بگیرین. 

# چیزی که باید آپلود کنین

توی یه فایل txt، لینک ریپوی گیت‌هابتون رو بنویسین و اون رو آپلود کنید. دقت کنید که ریپوی گیت‌هابتون باید شامل فایل‌های لازم برای ساخت دیتابیس‌تون هم باشه.